<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>http://www.thomaslevine.com/</id>
  <title>Thomas Levine</title>
  <updated>2013-08-14T07:00:00Z</updated>
  <link rel="alternate" href="http://www.thomaslevine.com/"/>
  <link rel="self" href="http://www.thomaslevine.com/!/feed.xml"/>
  <author>
    <name>Thomas Levine</name>
    <uri>http://www.thomaslevine.com</uri>
  </author>
  <entry>
    <id>tag:www.thomaslevine.com,2013-08-14:/!/socrata-metrics-api/index.html</id>
    <title type="html">How to use Socrata's site metrics API</title>
    <published>2013-08-14T07:00:00Z</published>
    <updated>2013-08-14T07:00:00Z</updated>
    <link rel="alternate" href="http://www.thomaslevine.com/!/socrata-metrics-api/index.html"/>
    <content type="html">&lt;p&gt;The site metrics API on a Socrata open data portal tells you some
pretty cool things about how people are using the portal. I’m going
to show you how to get use the API.&lt;/p&gt;

&lt;h2 id="getting-access-to-the-site-metrics-data"&gt;Getting access to the site metrics data&lt;/h2&gt;
&lt;p&gt;The site metrics data are private by default, so you first need to get
access to them.&lt;/p&gt;

&lt;p&gt;One way to get access is to become a
“&lt;a href="https://data.oaklandnet.com/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;_=1376438538384"&gt;domain member&lt;/a&gt;”. I don’t know
exactly how you do that, but it surely involves working for organization
that is publishing the data.&lt;/p&gt;

&lt;p&gt;You can also get access if a portal administrator makes the site metrics
public. She can do this by talking to a support person from Socrata.&lt;/p&gt;

&lt;p&gt;Out of the 60 portals I know about, 12 currently publish the analytics page openly.
(I run &lt;a href="https://github.com/tlevine/socrata-nominate/blob/master/has_analytics.sh"&gt;this script&lt;/a&gt; to check.)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href="https://data.austintexas.gov/analytics"&gt;data.austintexas.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.cityofnewyork.us/analytics"&gt;data.cityofnewyork.us&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.hawaii.gov/analytics"&gt;data.hawaii.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://explore.data.gov/analytics"&gt;explore.data.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://bronx.lehman.cuny.edu/analytics"&gt;bronx.lehman.cuny.edu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.sfgov.org/analytics"&gt;data.sfgov.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.baltimorecity.gov/analytics"&gt;data.baltimorecity.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.oregon.gov/analytics"&gt;data.oregon.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.raleighnc.gov/analytics"&gt;data.raleighnc.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.ok.gov/analytics"&gt;data.ok.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.seattle.gov/analytics"&gt;data.seattle.gov&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://data.montgomerycountymd.gov/analytics"&gt;data.montgomerycountymd.gov&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The site analytics page gets its data from the site metrics API, and
that API becomes available to the public when the site analytics page is made
available to the public.&lt;/p&gt;

&lt;h2 id="using-the-api"&gt;Using the API&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The whole API uses the endpoint &lt;code&gt;/api/site_metrics.json&lt;/code&gt;.
You access this endpoint by making a typical GET request; you don’t need
any special cookie, header, or API key.&lt;/p&gt;

&lt;p&gt;Two query arguments are required.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;start&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;end&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These are both dates, represented as milliseconds since January 1, 1970.
(It’s something like “&lt;script&gt;document.write((new Date()).getTime())&lt;/script&gt;&lt;noscript&gt;1376439688459&lt;/noscript&gt;”.)
These arguments define the range within which the metrics will be aggregated.&lt;/p&gt;

&lt;p&gt;This endpoint exposes three methods.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Site-wide statistics (no method)&lt;/li&gt;
  &lt;li&gt;Site-wide statistics by time interval (&lt;code&gt;series&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Most popular (&lt;code&gt;top&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each method is discussed below.&lt;/p&gt;

&lt;h3 id="site-wide-statistics-no-method"&gt;Site-wide statistics (no method)&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you specify no method argument, you’ll get some statistics
about the entire portal, such as the total number of datasets
created since the beginning of time (&lt;code&gt;datasets-created-total&lt;/code&gt;),
the number of datasets created within the date range specified
by &lt;code&gt;start&lt;/code&gt; and &lt;code&gt;end&lt;/code&gt; (&lt;code&gt;datasets-created&lt;/code&gt;), and the number of
rows of data that were accessed via the API within the date
range (&lt;code&gt;rows-accessed-api&lt;/code&gt;).&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999
{
  "datasets-created-total" : 5623,
  "datasets-deleted-total" : 4801,
  "datasets-created-blobby-total" : 113,
  "datasets-deleted-blobby-total" : 4,
  "datasets-created-href-total" : 13,
  "datasets-deleted-href-total" : 10,
  "rows-created-total" : 40757082,
  "rows-deleted-total" : 25546425,
  "page-views-total" : 2599228,
  "embeds-total" : 489504,
  "embeds" : 12094,
  "maps-created" : 99,
  "bytes-out" : 112213178897,
  "page-views" : 74530,
  "rows-loaded-api" : 20272,
  "rows-accessed-website" : 59636,
  "rows-loaded-download" : 8771634,
  "rows-accessed-api" : 611,
  "rows-loaded-website" : 778954,
  "rows-deleted" : 628998,
  "rows-accessed-rss" : 610,
  "maps-deleted" : 99,
  "filters-created" : 4995,
  "rows-loaded-widget" : 1347648,
  "rows-accessed-widget" : 67687,
  "geocoding-requests" : 10009,
  "users-created" : 645,
  "datasets-created" : 147,
  "js-page-view" : 68095,
  "datasets-deleted" : 122,
  "rows-accessed-download" : 379,
  "view-loaded" : 16599,
  "app-token-created" : 1,
  "charts-deleted" : 17,
  "shares" : 1,
  "rows-loaded-rss" : 26698,
  "bytes-in" : 658003507,
  "filters-deleted" : 4985,
  "charts-created" : 16,
  "rows-created" : 1040389,
  "comments" : 2
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="site-wide-statistics-by-time-interval-series"&gt;Site-wide statistics by time interval (&lt;code&gt;series&lt;/code&gt;)&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=series
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you want to get site-wide statistics by day, you could
use no method (above) and vary the start and end dates.
The series method lets you do something equivalent in one
HTTP request.&lt;/p&gt;

&lt;p&gt;This method requires an additional parameter, &lt;code&gt;slice&lt;/code&gt;.
Valid values include&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;DAILY&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;WEEKLY&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;MONTHLY&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;YEARLY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The result is a list of associative arrays, each one
corresponding to a time interval and containing the same
metrics that we would see with no method.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl 'https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;method=series&amp;amp;slice=WEEKLY'
[ {
  "__start__" : 1374969600000,
  "metrics" : {
    ...
  },
  "__end__" : 1375574399999
}, {
  "__start__" : 1375574400000,
  "metrics" : {
    ...
  },
  "__end__" : 1376179199999
}, {
  ...
} ]
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="most-popular-top"&gt;Most popular (&lt;code&gt;top&lt;/code&gt;)&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=top
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Return the most common entities of a particular type.
You specify the entity type with the required argument &lt;code&gt;top&lt;/code&gt;;
it can be any of the following.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;DATASETS&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;REFERRERS&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;SEARCHES&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;EMBEDS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The output is always an associative array, but the schema
depends on the type of entity.&lt;/p&gt;

&lt;h4 id="top-datasets"&gt;Top Datasets&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=top&amp;amp;top=DATASETS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This returns a mapping from &lt;a href="/!/socrata-genealogies#term-view"&gt;views&lt;/a&gt;
(represented by their &lt;a href="http://dev.socrata.com/docs/endpoints"&gt;4x4 ids&lt;/a&gt;)
to a view count (that is, the number of times someone opened the webpage for that view).&lt;/p&gt;

&lt;!--
To check that it's a view count rather than a download count
or some other count, look at the counts in these two pages.

https://data.oregon.gov/api/views/ffmj-ntaw.json
https://data.oregon.gov/api/site_metrics.json?start=1175315200000&amp;end=1376438399999&amp;method=top&amp;top=DATASETS
--&gt;

&lt;pre&gt;&lt;code&gt;curl 'https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;method=top&amp;amp;top=DATASETS'
{
  "nmjt-yuqx" : 5,
  "3sqh-pdgv" : 1,
  "hap2-76p2" : 1,
  "822n-er69" : 17,
  "dsje-kuhw" : 1,
  "8sad-79b5" : 75,
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can query the datasets with 
&lt;a href="http://dev.socrata.com/deprecated/querying-datasets"&gt;SODA 1&lt;/a&gt; or
&lt;a href="http://dev.socrata.com/docs/queries"&gt;SODA 2&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can get more information about these with the
&lt;a href="/!/socrata-summary#download-dataset-metadata"&gt;&lt;code&gt;/api/views&lt;/code&gt; endpoint&lt;/a&gt;.
I’m told that this endpoint is considered part of SODA 1.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;/api/views&lt;/code&gt; endpoint provides information about only one
&lt;a href="/!/socrata-genealogies#term-view"&gt;view&lt;/a&gt; per 
The site analytics page uses the batches endpoint (&lt;code&gt;/api/batches&lt;/code&gt;)
to get metadata about several views at once.
I haven’t found any documentation on that, but I might document that eventually.&lt;/p&gt;

&lt;h4 id="top-referrers"&gt;Top Referrers&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=top&amp;amp;top=REFERRERS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This also returns counts, presumably view counts. The root associative array
maps an origin (like &lt;code&gt;http://thomaslevine.com&lt;/code&gt;) to an associative
array, and that child associative array maps the rest of the URL
(like &lt;code&gt;/!/socrata-metrics-api/?foo=bar&lt;/code&gt;) to a count.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl 'https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;method=top&amp;amp;top=REFERRERS&amp;amp;_=1376451966200'
{
  "https://govspace.oregon.gov" : {
    "/community/forall/testdrive/jasonstest?view=overview" : 2,
    "/index.jspa" : 1,
    "/community/agencies/das/geo/gpl" : 1,
    "/index.jspa?showhomepage=true" : 1,
    "/community/forall/testdrive/jasonstest" : 18
  },
  ...,
  "http://www.state.or.us" : {
    "/DAS/Pages/mobile_bldgclose.aspx" : 2,
    "/Pages/do_business_in_oregon.aspx" : 1,
    "/Pages/sitemap.aspx" : 1,
    "/docs/pop_box/news_story_template.doc" : 1,
    "/ODA/FSD/Pages/recalls.aspx" : 1,
    "/DAS/pages/bldg_close/index.aspx" : 1
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id="top-searches"&gt;Top Searches&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=top&amp;amp;top=SEARCHES
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Searches are separated into dataset searches and user searches.
Within each, a mapping from search terms to counts is returned.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl 'https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;method=top&amp;amp;top=SEARCHES&amp;amp;_=1376451966200'
{
  "top-user-searches" : {
    "Tiffany.Koss@state.or.us" : 1
  },
  "top-dataset-searches" : {
    "Oregon Public Meetings" : 2,
    "copy of 501 c3" : 1,
    ...
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id="top-embeds"&gt;Top Embeds&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;GET /api/site_metrics.json?method=top&amp;amp;top=EMBEDS
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This returns the same format as the top referrers; the root associative array
maps an origin (like &lt;code&gt;http://thomaslevine.com&lt;/code&gt;) to an associative
array, and that child associative array maps the rest of the URL
(like &lt;code&gt;/!/socrata-metrics-api/?foo=bar&lt;/code&gt;) to a count.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl 'https://data.oregon.gov/api/site_metrics.json?start=1375315200000&amp;amp;end=1376438399999&amp;amp;method=top&amp;amp;top=EMBEDS'
{
  "http://translate.googleusercontent.com" : {
    "/translate_c?depth=1&amp;amp;hl=fa&amp;amp;prev=/search%3Fq%3Dmaking%2BElectric%2Bhemlock%2Blaunch%26biw%3D1024%26bih%3D670&amp;amp;rurl=translate.google.com&amp;amp;sl=en&amp;amp;u=http://www.oregon.gov/osmb/pages/access/access.aspx&amp;amp;usg=ALkJrhi2xJIclSRZsqxBQIg-pjV-38Mlbw" : 3
  },
  "https://govspace.oregon.gov" : {
    "/community/forall/testdrive/jasonstest?view=overview" : 2,
    "/community/forall/testdrive/jasonstest" : 4
  },
  "https://t.co" : {
    "/IXXONPIGWT" : 1
  },
  "https://www.google.ca" : {
    "/" : 2
  },
  ...
}
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  <entry>
    <id>tag:www.thomaslevine.com,2013-08-12:/!/openprism/index.html</id>
    <title type="html">OpenPrism</title>
    <published>2013-08-12T07:00:00Z</published>
    <updated>2013-08-12T07:00:00Z</updated>
    <link rel="alternate" href="http://www.thomaslevine.com/!/openprism/index.html"/>
    <content type="html">&lt;p&gt;There are loads of open data portals
There’s even &lt;a href="http://datacatalogs.org"&gt;portal about data portals&lt;/a&gt;.
And each of these portals has loads of datasets.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://openprism.thomaslevine.com"&gt;OpenPrism&lt;/a&gt; is my most recent
attempt at understanding what is going on in all of these portals.
Read on if you want to see why I made it, or just go to the site
and start playing with it.&lt;/p&gt;

&lt;h2 id="people-dont-know-much-about-open-data"&gt;People don’t know much about open data&lt;/h2&gt;
&lt;p&gt;Nobody seems to know what is in the data portals.
Many people know about datasets that are relevant to their work,
municipality, &amp;amp;c., but nobody seems to know about the availability of
data on broader topics, and nobody seems to have a good way of
finding out what is available.&lt;/p&gt;

&lt;p&gt;If someone does know any of this, he probably works for an open data
portal. Still, he probably doesn’t know much about what is going on in
other portals.&lt;/p&gt;

&lt;h2 id="naive-search-method"&gt;Naive search method&lt;/h2&gt;
&lt;p&gt;One difficulty in discovering open data is the search paradigm.&lt;/p&gt;

&lt;p&gt;Open data portals approach searching data as if data were normal prose;
your search terms are some keywords, a category, &amp;amp;c., and your results are
dataset titles and descriptions.&lt;/p&gt;

&lt;p&gt;There are other approaches.
For example, &lt;a href="http://www.appgen.me/"&gt;AppGen&lt;/a&gt;
searches for datasets with the same variables as each other,
and the results are automatically generated app prototypes.&lt;/p&gt;

&lt;h2 id="siloed-open-data-portals"&gt;Siloed open data portals&lt;/h2&gt;
&lt;p&gt;Another issue is that people tend to use data from only one portal;
they use their local government’s portals or their organizations’ portals.&lt;/p&gt;

&lt;p&gt;Let me give you a couple examples of why this should maybe be different.
Perhaps I’m considering making an app to help people find parking, and
I want to see what parking lot data are available before I put much work
into the app.
Or maybe I want to find all of the data about sewer overflows so that I
can expand my initiative to &lt;a href="http://dontflush.me"&gt;reduce water pollution&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://openprism.thomaslevine.com"&gt;OpenPrism&lt;/a&gt; is one small attempt
at making it easier to search. Rather than going to all of the different
portals and making a separate search for each portal, you type your
search in one search bar, and you get results from a bunch of different
Socrata, CKAN and Junar portals.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <id>tag:www.thomaslevine.com,2013-08-08:/!/everyday-living-for-girls/index.html</id>
    <title type="html">Everyday Living for Girls</title>
    <published>2013-08-08T07:00:00Z</published>
    <updated>2013-08-08T07:00:00Z</updated>
    <link rel="alternate" href="http://www.thomaslevine.com/!/everyday-living-for-girls/index.html"/>
    <content type="html">&lt;blockquote&gt;
  &lt;p&gt;The purpose of this book is to develop standards of living and appreciations of the value of personal and social development in the high school girl &lt;em&gt;(page v)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Everyday Living for Girls&lt;/em&gt;, by is a gem that I found in the library at university.&lt;/p&gt;

&lt;p&gt;It has 14 units, which include “Planning Clothes Artistically”, “Selecting Clothes Practically”, “Supervising One’s Wardrobe”, “Food Facts for the Individual” and “Making the Most of Oneself: Manners and Conventions”.
And the table of contents is in small caps! (I find small caps quite interesting.)&lt;/p&gt;

&lt;p&gt;Here are some of my favorite excepts, divided by section of the book.&lt;/p&gt;

&lt;h2 id="health-an-asset"&gt;Health an Asset&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;We usually form a high estimate of the person who stands and walks erect. Mental characteristics of alertness, decision, and courage are indications of good health and reflect themselves in good posture. &lt;em&gt;(page 153)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;[I]n most cases the deformity is brought about by lack of thought of our posture when engaged in daily activities. Continued poor occupational posture will eventually take a permanent toll in a warped body whose general health will be impaired by the improper functioning of the body organs thus thrown into a cramped position’’ &lt;em&gt;(page 154)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id="food-facts-for-the-individual"&gt;Food Facts for the Individual&lt;/h2&gt;

&lt;h3 id="eating-downtown"&gt;Eating downtown&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;A girl with a minimum wage should never select a tearoom where a tea-leaf reader tells fortunes.
In the first place, the food may be expensive and inferior.
One must pay for “fortunes” that are silly nonsense and sacrifice food values essential for health &lt;em&gt;(page 182)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Ordering a balanced meal from a menu card is much different from selecting a meal in your school lunchroom or planning a  meal for the family.
Frequently, odd terms or French words are used. To be able to order a meal without embarrassment one should know the meaning of these terms.
A menu card may seem very formidable to an inexperienced person &lt;em&gt;(page 183)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The authors then go on to discuss the difference between “table d’hôte” and “à la carte” and to include example menus (&lt;a href="pictures/IMG_4346.JPG"&gt;pages 184–5&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;An “Explanation of Unusual Terms Used on Meal Cards” is presented on &lt;a href="pictures/IMG_4345.JPG"&gt;pages 186–7&lt;/a&gt;.
They like talking about “fat” in this explanation. For example, “[c]roquette” is described as
“Potatoes, fish, or vegetables formed into cones or patties and fried in deep fat.” &lt;em&gt;(page 186)&lt;/em&gt;&lt;/p&gt;

&lt;h3 id="dining-in-public-places"&gt;Dining in public places&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;Bad table manners indicate lack of background. Eating is not at any time an attractive process. Each individual should have too much personal pride to risk offending others by boorish manners. &lt;em&gt;(page 187)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;When dining in a restaurant or a hotel, wait at the entrance for the head waiter to escort you to a seat.
If a boy and a girl are together, the girl follows the waiter to a table.
If there is no waiter, then the boy should lead the way, find a table, and assist the girl to her seat.
He should also help her remove her wrap after he is seated and arrange it over the back of the chair.
The girl should place her gloves and purse in her lap or on a vacant chair, if there is one.
Never place purse or gloves on the tablecloth.
If the hat is to be removed, this should be done outside the dining-room.
No attention should be given to the hair at the table.
Removing the hat, arranging the hair, and applying lipstick and other make-up should take place in the dressing room.
To do any of them at the table is a mark of poor breeding &lt;em&gt;(page 187)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Page 188 has a picture of “An attractive tea room.”&lt;/p&gt;

&lt;p&gt;&lt;img src="pictures/IMG_4344.JPG" alt="An attractive tea room." /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href="pictures/IMG_4355.JPG"&gt;Page 189&lt;/a&gt; is hilarious.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;If silver should be dropped on the floor, do not pick it up. The waiter will bring you another piece.’’ &lt;em&gt;(page 189)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;If anyone stops at the table to speak with you, the boy should rise and remain standing while the person is present. &lt;em&gt;(page 189)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;During the meal, conversation should be quiet and dignified.
Boisterous laughter, lounging over the table, beckoning to friends or acquaintances are all signs of poor breeding. &lt;em&gt;(page 189)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;When two girls are dining together, each may order her own meal.
When paying for the meal, they may ask for separate checks;
if one check is given, they may settle between themselves.
At no time should an argument arise as to who shall pay the bill.
This attracts attention and is in poor taste.
Each girl may leave a tip, or one may pay the entire bill and the tip,
allowing the other person to pay her later. &lt;em&gt;(page 190)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id="entering-the-business-world"&gt;Entering the Business World&lt;/h2&gt;
&lt;p&gt;This section discusses, among other things, the merits a college education for a girl.
It encourages such an education from a financial perspective.&lt;/p&gt;

&lt;h2 id="personal-and-social-development"&gt;Personal and Social Development&lt;/h2&gt;

&lt;h3 id="petting"&gt;Petting&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;One of the questions that arises between boys and girls is that of petting.
It is agreed that public demonstration of affection is always in bad taste and the wisdom of that done in secret is always to be questioned. &lt;em&gt;(page 386)&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id="reference"&gt;Reference&lt;/h2&gt;
&lt;p&gt;Here’s the reference, in &lt;script type="math/tex"&gt;Bib\TeX&lt;/script&gt;, so you can find the book.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@book{vanduzer,
	title={Everyday Living for Girls: A Textbook in Personal Regimen},
	author={Adelaide Laura van Duzer and Edna M. Andrix and Ethelwyn L. Bobenmyer and E. Maude Hawkins and Mary E. Hemmersbaugh and Elsa P. Page},
	editor={Benjamin R. Andrews},
	publisher={J. B. Lippincott Company},
	address={Chicago},
	year=1936
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id="yet-to-be-transcribed"&gt;Yet-to-be-transcribed&lt;/h2&gt;
&lt;p&gt;Here are some other awesome pages for which I have pictures but no transcription.&lt;/p&gt;

&lt;p&gt;&lt;img src="pictures/IMG_4342.JPG" alt="What I cost per year" class="wide" /&gt;
&lt;img src="pictures/IMG_4343.JPG" alt="What I cost per year, unfolded" class="wide" /&gt;
&lt;img src="pictures/IMG_4347.JPG" alt="Adequate dinners" class="wide" /&gt;
&lt;img src="pictures/IMG_4348.JPG" alt="Employment" class="wide" /&gt;
&lt;img src="pictures/IMG_4351.JPG" alt="Wise use of leisure" class="wide" /&gt;
&lt;img src="pictures/IMG_4352.JPG" alt="Good citizens provide parks where the natural beauty of the out-of-doors is preserved for permanent enjoyment." class="wide" /&gt;
&lt;img src="pictures/IMG_4353.JPG" alt="Body odors and cleanliness" class="wide" /&gt;
&lt;img src="pictures/IMG_4354.JPG" alt="Care of the hair" class="wide" /&gt;
&lt;img src="pictures/IMG_4356.JPG" alt="When packing a lunch" class="wide" /&gt;
&lt;img src="pictures/IMG_4357.JPG" alt="High school boys and girls may prefer to buy their milk at school." class="wide" /&gt;&lt;/p&gt;
</content>
  </entry>
  <entry>
    <id>tag:www.thomaslevine.com,2013-08-06:/!/higher-power-distance-measures/index.html</id>
    <title type="html">Higher-power distance measures</title>
    <published>2013-08-06T07:00:00Z</published>
    <updated>2013-08-06T07:00:00Z</updated>
    <link rel="alternate" href="http://www.thomaslevine.com/!/higher-power-distance-measures/index.html"/>
    <content type="html">&lt;h2 id="sums-of-shapes"&gt;Sums of shapes&lt;/h2&gt;
&lt;p&gt;Let’s say we have a bunch of numbers, represented by the tick marks towards
the bottom the fancy interactive plot drawing thingy below. Next, we chose
some other number, represented by the big pink bar that you can drag.&lt;/p&gt;

&lt;p&gt;For each number in our bunch (each tick mark), we could draw a line from the
number to the other number we chose (the pink bar). Then we could draw a square
for each of these numbers with a side as long as the this line. (These squares
are represented by the squares in the plot thingy.) We could add up the areas
of all of these squares. People call that the &lt;strong&gt;sum of squared error&lt;/strong&gt; or the
&lt;strong&gt;sum of squares&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Instead of adding up the squares, we could just add up the lines. People call
that the &lt;strong&gt;sum of absolute errors&lt;/strong&gt;, but I like calling it the &lt;strong&gt;sum of lines&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Sometimes, these lines will have no length because the two numbers that form
the line (the tick mark and the pink bar) are the same number. We could draw
a point for each tick mark whose value is not exactly the same as the pink bar.
Then we could count how many points we have and call that the &lt;strong&gt;sum of points&lt;/strong&gt;.&lt;/p&gt;

&lt;style&gt;
#viz &gt; .screen-size-warning { display: none; }
@media screen and (max-width: 640px) {
  #viz &gt; * { display: none; }
  #viz &gt; .screen-size-warning {
    display: block;
    text-align: center;
    font-weight: bold;
    border: 2px solid;
    padding: 0.5em;
  }
}
&lt;/style&gt;

&lt;div id="viz" style="width: 640px; margin-left: auto; margin-right: auto;"&gt;
  &lt;div class="screen-size-warning"&gt;Make this window wider (to 640 pixels)&lt;br /&gt;to see the table.&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;small&gt;
  Nota bene: The line and square at the bottom right are &lt;strong&gt;proportional&lt;/strong&gt; to but
  &lt;strong&gt;not equal&lt;/strong&gt; to the sums of lines and squares, respectively.
&lt;/small&gt;
&lt;script src="/!/higher-power-distance-measures/d3.v3.min.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;script src="/!/higher-power-distance-measures/script.js"&gt;&lt;/script&gt;&lt;/p&gt;

&lt;h2 id="values-of-the-other-number-that-minimize-the-sums-of-shapes"&gt;Values of the other number that minimize the sums of shapes&lt;/h2&gt;
&lt;p&gt;If you play around with the plot above, you’ll find one location of the pink bar
that yields the smallest sum of squares. (The “Sum of squares” square at the
bottom-right will be smallest for this situation.) We call this location the &lt;strong&gt;mean&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;You’ll also find one spot or two adjacent spots that yield the smallest sum of
lines. We call this location the &lt;strong&gt;median&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;And you’ll find at least one spot with the smallest sum of points. (This spot
will have particularly few points in the “Sum of points” section at the
bottom-left.) We call this spot the &lt;strong&gt;mode&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id="extrapolating-the-distance-measure"&gt;Extrapolating the distance measure&lt;/h2&gt;
&lt;p&gt;I see the sum of points as the zero-order distance measure, the sum of lines
as the one-order distance measure and sum of squares as the two-order distance
measure. A general distance measure that includes all of these is the
sum of n-dimensional volumes (Is there a better word for that?) of the
n-dimensional hypercubes. Said more concisely,&lt;/p&gt;

&lt;script type="math/tex; mode=display"&gt;Distance_n=\sum_i \lvert x_i - c\rvert^n&lt;/script&gt;

&lt;p&gt;where each &lt;script type="math/tex"&gt;i&lt;/script&gt; corresponds to an observation (represented above by tick marks),
&lt;script type="math/tex"&gt;n&lt;/script&gt; is the number of dimensions, and &lt;script type="math/tex"&gt;c&lt;/script&gt; represents that other number
(represented above by the pink bar).&lt;/p&gt;

&lt;h3 id="sum-of-squares"&gt;Sum of squares&lt;/h3&gt;
&lt;p&gt;The sum of squares is thus this.&lt;/p&gt;

&lt;script type="math/tex; mode=display"&gt;Distance_2=\sum_i \lvert x_i - c\rvert^2&lt;/script&gt;

&lt;p&gt;The value of &lt;script type="math/tex"&gt;c&lt;/script&gt; that minimizes &lt;script type="math/tex"&gt;Distance_2&lt;/script&gt; is the &lt;strong&gt;mean&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id="sum-of-lines"&gt;Sum of lines&lt;/h3&gt;
&lt;p&gt;The sum of lines is this.&lt;/p&gt;

&lt;script type="math/tex; mode=display"&gt;Distance_1=\sum_i \lvert x_i - c\rvert^1&lt;/script&gt;

&lt;p&gt;The value of &lt;script type="math/tex"&gt;c&lt;/script&gt; that minimizes &lt;script type="math/tex"&gt;Distance_1&lt;/script&gt; is the &lt;strong&gt;median&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id="sum-of-points"&gt;Sum of points&lt;/h3&gt;
&lt;p&gt;To make this work with the zero-order distance, I proclaim that &lt;script type="math/tex"&gt;0^0&lt;/script&gt; equals 0.
The sum of points is this.&lt;/p&gt;

&lt;script type="math/tex; mode=display"&gt;Distance_0=\sum_i \lvert x_i - c \rvert ^0&lt;/script&gt;

&lt;p&gt;The quantity within the summation is zero if &lt;script type="math/tex"&gt;x_i&lt;/script&gt; equals &lt;script type="math/tex"&gt;c&lt;/script&gt; and one otherwise.&lt;/p&gt;

&lt;p&gt;The value of &lt;script type="math/tex"&gt;c&lt;/script&gt; that minimizes &lt;script type="math/tex"&gt;Distance_1&lt;/script&gt; is the &lt;strong&gt;mode&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id="higher-power-distance-measures-emphasize-more-extreme-values"&gt;Higher-power distance measures emphasize more extreme values&lt;/h2&gt;
&lt;p&gt;I see the mode, median and mean as different measures of the center of a
distribution. (I labeled them &lt;script type="math/tex"&gt;c&lt;/script&gt; for “center”.)&lt;/p&gt;

&lt;p&gt;As we increase the power of the distance measure, we use more information from
the tails to produce the measure of the center of the distribution.&lt;/p&gt;

&lt;p&gt;The mode only looks for the most common values; all the information that it conveys
about the other values is that they are less common.&lt;/p&gt;

&lt;p&gt;The median turns out to be the value of middle rank. For example, if there are
9 numbers, the fifth-highest/fifth-lowest is the median. The median doesn’t
distinguish between an observation that is slightly greater than most and an
observation that is exceptionally greater than most.&lt;/p&gt;

&lt;p&gt;Compared to the median, the mean takes more information from extreme values.
It might not be particularly obvious why, so I present a simple example.&lt;/p&gt;

&lt;p&gt;&lt;img src="/!/higher-power-distance-measures/two-observations.jpg" alt="Drawing in marker of the situation explained in the next paragraph" class="wide" /&gt;&lt;/p&gt;

&lt;p&gt;If we have only two observations (represented above by the black dots),
the sum of lines will be the same as long
as we choose a center point that is between the two points; the sum of lines
will be the distance between the two points. The sum of squares, on the other
hand, is smallest in the center because we’ll have two smallish squares
(orange) rather than one huge square (teal).&lt;/p&gt;

&lt;h2 id="center-points-for-higher-power-distance-measures"&gt;Center points for higher-power distance measures&lt;/h2&gt;
&lt;p&gt;What center points minimize these higher-power distance measures? I calculated
the distance measures for dimensions up to 100 on the following skewed
distribution, using many different center values for each dimension.&lt;/p&gt;

&lt;p&gt;&lt;img src="/!/higher-power-distance-measures/distribution.png" alt="Histogram of a sample of a Poisson distribution with lambda of 4" class="wide" /&gt;&lt;/p&gt;

&lt;p&gt;Then I chose the center value with the lowest distance measure and
called that the n-dimensional measure of the distribution’s center.
(Mode is the 0-dimensional measure, median is the
1-dimensional measure, and mean is the 2-dimensional measure.)&lt;/p&gt;

&lt;p&gt;&lt;img src="/!/higher-power-distance-measures/error-plot.png" alt="Line plot of the center values that minimize the n-dimensional distance measure, as a function of n" class="wide" /&gt;&lt;/p&gt;

&lt;p&gt;As the number of dimensions goes up, the measure of the center moves in the
direction of the long tail of the distribution.&lt;/p&gt;

&lt;h2 id="questions"&gt;Questions&lt;/h2&gt;
&lt;p&gt;It seems odd to me that I haven’t heard of a sum of cubes.
Is there standard a name for the stuff I just explained?
Does anyone use higher-power distance or centrality measures for real things?&lt;/p&gt;

&lt;p&gt;I’m really quite curious about all of this.
Please tweet, email, phone, &amp;amp;c. me if you know anything.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <id>tag:www.thomaslevine.com,2013-08-04:/!/moments-of-a-function/index.html</id>
    <title type="html">Moments of a function</title>
    <published>2013-08-04T07:00:00Z</published>
    <updated>2013-08-04T07:00:00Z</updated>
    <link rel="alternate" href="http://www.thomaslevine.com/!/moments-of-a-function/index.html"/>
    <content type="html">&lt;p&gt;I made this table years ago to help me understand what the moments of a function were.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Name&lt;/th&gt;
      &lt;th&gt;Formula&lt;/th&gt;
      &lt;th&gt;&lt;script type="math/tex"&gt;\mu_{0}&lt;/script&gt;&lt;/th&gt;
      &lt;th&gt;&lt;script type="math/tex"&gt;\mu_{1}&lt;/script&gt;&lt;/th&gt;
      &lt;th&gt;&lt;script type="math/tex"&gt;\mu_{2}&lt;/script&gt;&lt;/th&gt;
      &lt;th&gt;&lt;script type="math/tex"&gt;\mu_{3}&lt;/script&gt;&lt;/th&gt;
      &lt;th&gt;&lt;script type="math/tex"&gt;\mu_{4}&lt;/script&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Crude moment&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\mu_{n}=E \left( X^n \right) &lt;/script&gt;&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\mu&lt;/script&gt;&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Central moment&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\mu_{n}=E \left( \left[ X - E \left( X \right) \right]^n \right)&lt;/script&gt;&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\sigma^2&lt;/script&gt;&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Standardized moment&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\frac{\mu_{n}=E \left( \left[ X - E \left( X \right) \right]^n \right)}{\sigma^n}&lt;/script&gt;&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\gamma_1&lt;/script&gt;&lt;/td&gt;
      &lt;td&gt;&lt;script type="math/tex"&gt;\gamma_2&lt;/script&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;!-- I found this in some old notes that I'd written in LaTeX.

\begin{table*}
\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}} l l r r r r r}
\toprule
Name                &amp; Formula &amp;
$\mu_{0}$ &amp; $\mu_{1}$ &amp; $\mu_{2}$ &amp; $\mu_{3}$ &amp; $\mu_{4}$ \\
\midrule 
Crude moment        &amp; $\mu_{n}=E \left( X^n \right) $ &amp;
  &amp; $\mu$ &amp; &amp; &amp; \\
Central moment      &amp; $\mu_{n}=E \left( \left[ X - E \left( X \right) \right]^n \right)$ &amp;
1 &amp; 0     &amp; $\sigma^2$ &amp; &amp; \\
Standardized moment &amp; $\frac{\mu_{n}=E \left( \left[ X - E \left( X \right) \right]^n \right)}{\sigma^n}$ &amp;
  &amp; 0     &amp; 1          &amp; $\gamma_1$ &amp; $\gamma_2$ \\
\bottomrule
\end{tabular*}
\caption{\label{moments.tab} Moments of a function, where $\mu=mean$, $\sigma^2=variance$, $\gamma_1=skewness$ and $\gamma_2=kurtosis$.}
\end{table*}

--&gt;

&lt;p&gt;Read it like this: The second (&lt;script type="math/tex"&gt;\mu_2&lt;/script&gt;) central moment is &lt;script type="math/tex"&gt;\sigma^2&lt;/script&gt;.&lt;/p&gt;

&lt;p&gt;Some moments always have a particular value. For example,
the zeroth central moment is always one; we plug zero into
the central moment formula for &lt;script type="math/tex"&gt;n&lt;/script&gt;, and we wind up taking
the expected value of a bunch of ones.
Some of the moments have special names; &lt;script type="math/tex"&gt;\mu&lt;/script&gt; is the mean,
&lt;script type="math/tex"&gt;\sigma^2&lt;/script&gt;is the variance, &lt;script type="math/tex"&gt;\gamma_1&lt;/script&gt;is the skewness,
and &lt;script type="math/tex"&gt;\gamma_2&lt;/script&gt;is the kurtosis.&lt;/p&gt;

&lt;p&gt;I don’t exactly know what drove me to learn about the moments
of a function. It couldn’t have had anything to do with any sort
of class or work, so I probably just read about them in a book.
And I have yet to find any practical reason to know about them.&lt;/p&gt;

&lt;p&gt;But it was all worth it because now I understand
&lt;a href="http://biostatisticsryangoslingreturns.tumblr.com/post/55797271777"&gt;Biostatistics Ryan Gosling&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src="biostatistics-ryan-gosling.jpg" alt="Hey girl, I loved you from the E(X) I saw you." /&gt;&lt;/p&gt;
</content>
  </entry>
</feed>

